package log

import (
	"fmt"
	"github.com/fatih/color"
	"log"
	"os"
)

var Logger = log.New(os.Stderr, "", log.Ldate|log.Ltime)


const (
	debug   = "[DEBUG]"
	info    = "[INFO]"
	err     = "[ERROR]"
	warn    = "[WARN]"
	success = "[SUCCESS]"
	data    = "[DATA]"
	tunnel  = "[TUNNEL]"
)

var enabled = []string{
	info,
	err,
	warn,
	// debug,
	success,
	// data,
}

func printMessagePrefix(colorNumber color.Attribute, message string) {
	color.New(colorNumber).Printf(message + " ")
	color.New(color.FgHiBlack).Printf(formatTime() + " ")
}

func Data(format string, a ...interface{}) {
	for _, mode := range enabled {
		if mode == "[DATA]" {
			color.Set(color.FgMagenta)
			Logger.Print(fmt.Sprintf(format, a...))
			color.Unset()
			return
		}
	}
}